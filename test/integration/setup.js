import djatokaClientApp from "../../src/standalone.jsx";

djatokaClientApp.Api.prototype.makeTileUrl = function() { return "data:image/png;base64,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"; };


let frameCallbacks = {
	beforeRender: function() { },
	afterRender: function() { },
	onDrawImage: function() { },
	onClearRect: function() { }
};

let originalOnAnimationFrame = djatokaClientApp.DjatokaClient.prototype.onAnimationFrame;
djatokaClientApp.DjatokaClient.prototype.onAnimationFrame = function() {
	frameCallbacks.beforeRender.apply(this);
	originalOnAnimationFrame.apply(this);
	frameCallbacks.afterRender.apply(this);
};

class ImageContextSpy {
	constructor(imageCtx, owner) {
		this.imageCtx = imageCtx;
		this.owner = owner;
	}

	drawImage() {
		this.imageCtx.drawImage(...arguments);
		frameCallbacks.onDrawImage.apply(this.owner, arguments);
	}

	clearRect() {
		this.imageCtx.clearRect(...arguments);
		frameCallbacks.onClearRect.apply(this.owner, arguments);
	}
}

let originalComponentDidMount = djatokaClientApp.DjatokaClient.prototype.componentDidMount;
djatokaClientApp.DjatokaClient.prototype.componentDidMount = function() {
	originalComponentDidMount.apply(this);
	this.imageCtx = new ImageContextSpy(this.imageCtx, this);
};


const config = {
	"identifier": "http://localhost:8080/jp2/13434696301791.jp2",
	"imagefile": "/var/cache/tomcat6/temp/cache15069217286472590195734192754.jp2",
	"width": "4355",
	"height": "3300",
	"dwtLevels": "6",
	"levels": "6",
	"compositingLayerCount": "1"
};
const service = "https://tomcat.tiler01.huygens.knaw.nl/adore-djatoka/resolver";
const store = djatokaClientApp.store;

const zoomContainer = document.createElement("div");
document.body.appendChild(zoomContainer);

const wfContainer = document.createElement("div");
document.body.appendChild(wfContainer);

const hfContainer = document.createElement("div");
document.body.appendChild(hfContainer);

const fzContainer = document.createElement("div");
document.body.appendChild(fzContainer);

const afContainer = document.createElement("div");
document.body.appendChild(afContainer);

const mmContainer = document.createElement("div");
document.body.appendChild(mmContainer);


const viewContainer = document.createElement("div");
document.body.appendChild(viewContainer);


viewContainer.style.height = "1000px";
viewContainer.style.width = "1000px";

export {
	viewContainer as viewContainer,
	zoomContainer as zoomContainer,
	wfContainer as wfContainer,
	hfContainer as hfContainer,
	fzContainer as fzContainer,
	afContainer as afContainer,
	mmContainer as mmContainer,
	service as service,
	store as store,
	config as config,
	frameCallbacks as frameCallbacks
};
